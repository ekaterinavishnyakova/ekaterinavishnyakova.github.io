//menu
var menuButton = document.querySelector('.hamburger-menu');
var hiddenMenu = document.querySelector('.hidden-menu');
var closeButton = document.querySelector('.close-btn');
menuButton.addEventListener("click", function (e) {
    e.preventDefault();
    hiddenMenu.style.display = 'flex';
});
closeButton.addEventListener('click', function (e) {
    e.preventDefault();
    hiddenMenu.style.display = 'none';
});

//slider
const left = document.querySelector("#left");
const right = document.querySelector("#right");
const slider = document.querySelector(".burgers__list");

right.addEventListener('click', function (event) {
    event.preventDefault();
    loop('right');
});

left.addEventListener("click", function (event) {
    event.preventDefault();
    loop('left');
});
function loop(direction) {
    if (direction === "right") {
        slider.appendChild(slider.firstElementChild);
    }
    else {
        slider.insertBefore(slider.lastElementChild, slider.firstElementChild);
    }
};

//accordion-vertical
const teamItems = document.querySelectorAll('.team__item');
teamItemsActive = document.getElementsByClassName('team__item--active');
Array.from(teamItems).forEach(function (items, i, teamItems) {
    items.addEventListener('click', function (e) {
        e.preventDefault();
        if (teamItemsActive.length > 0 && teamItemsActive[0] !== this)
            teamItemsActive[0].classList.remove('team__item--active');
        this.classList.toggle('team__item--active');
    });

});

//accordion-horizontal
const menuItems = document.querySelectorAll('.menu-accordion__item');
menuItemsActive = document.getElementsByClassName('menu-accordion__item--active');
Array.from(menuItems).forEach(function (elems, i, menuItems) {
    elems.addEventListener('click', function (e) {
        e.preventDefault();
        if (menuItemsActive.length > 0 && menuItemsActive[0] !== this)
            menuItemsActive[0].classList.remove('menu-accordion__item--active');
        this.classList.toggle('menu-accordion__item--active');
    });

});




//modal window

const modalWindowButton = document.querySelectorAll('.reviews__button');

const modalWindow = createModalWindow('<div class="modal-window__name"></div><div class="modal-window__review"></div>');



Array.from(modalWindowButton).forEach(function (elems, i, modalWindowButton) {
    elems.addEventListener('click', function (e) {
        e.preventDefault;
        document.body.appendChild(modalWindow);
    });
});
function createModalWindow(content) {
    const modalWindowElement = document.createElement('div');
    modalWindowElement.classList.add('modal-window');

    const template = document.querySelector("#modal-windowTemplate");
    modalWindowElement.innerHTML = template.innerHTML;
    modalWindowElement.addEventListener('click', function (e) {
        if (e.target === modalWindowElement) {
            closeModalWindow.click();
        }
    });

    const modalWindowBlock = modalWindowElement.querySelector(".modal-window__block");
    const closeModalWindow = modalWindowBlock.querySelector(".modal-window__close-btn");
    closeModalWindow.addEventListener("click", function (e) {
        e.preventDefault();
        document.body.removeChild(modalWindowElement);
    });

    const modalWindowContent = modalWindowBlock.querySelector(".modal-window__content");
    modalWindowContent.innerHTML = content;

    const reviewName = modalWindowContent.querySelector('.modal-window__name');
    reviewName.textContent = 'Константин Спилберг';
    const reviewText = modalWindowContent.querySelector('.modal-window__review');
    reviewText.textContent = 'Мысли все о них и о них, о них и о них. Нельзя устоять, невозможно забыть... Никогда не думал, что булочки могут быть такими мягкими, котлетка такой сочной, а сыр таким расплавленным.';


    // var reviewName = document.querySelectorAll('.reviews__title');
    //var reviewText = document.querySelectorAll('.reviews__desc');

    //Array.from(reviewName).forEach(function (elems, i, reviewName) {

    //       modalWindowContent.innerHTML = reviewName;


    // });




    return modalWindowElement;




//form
const myForm = document.querySelector('.delivery-form__item');
const deliveryButton = document.querySelector('#deliveryButton');
const popup = document.querySelector('#popup');



myForm.addEventListener("submit", function(e) {
    e.preventDefault();
    const formData = new FormData(myForm);
    formData.append("to", "myExamplEmail@mail.ru");
    const request = new XMLHttpRequest();
    request.open("POST", "https://webdev-api.loftschool.com/sendmail");
    request.send(formData);
    request.addEventListener("load", function() {
        const responce = JSON.parse(request.response);
        if (request.status < 400) {
            myForm.reset();
            popup.style.display = 'flex';
        }
    });
});
deliveryButton.addEventListener('click', function() {
    popup.style.display = 'none';
})

//video




//map

function ready() {

    $('#fullpage').fullpage();

    ymaps.ready(function () {
        var myMap = new ymaps.Map('map', {

            center: [54.71024095, 20.51061681],
            zoom: 9
        }, {
            searchControlProvider: 'yandex#search'

        }),

            // Создаём макет содержимого.
            MyIconContentLayout = ymaps.templateLayoutFactory.createClass(
                '<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'
            ),

            myPlacemark = new ymaps.Placemark(myMap.getCenter(), {
                hintContent: 'Собственный значок метки',
                balloonContent: 'Это красивая метка'
            }, {
                // Опции.
                // Необходимо указать данный тип макета.
                iconLayout: 'default#image',
                // Своё изображение иконки метки.
                iconImageHref: './img/icons/map-marker.svg',
                // Размеры метки.
                iconImageSize: [30, 42],
                // Смещение левого верхнего угла иконки относительно
                // её "ножки" (точки привязки).
                iconImageOffset: [-5, -38]
            }),



            myPlacemarkWithContent = new ymaps.Placemark([54.70051194, 20.49861694], {
                hintContent: 'Собственный значок метки с контентом',
                balloonContent: 'А эта — новогодняя',

            }, {
                // Опции.
                // Необходимо указать данный тип макета.
                iconLayout: 'default#image',
                // Своё изображение иконки метки.
                iconImageHref: './img/icons/map-marker.svg',
                // Размеры метки.
                iconImageSize: [48, 48],
                // Смещение левого верхнего угла иконки относительно
                // её "ножки" (точки привязки).
                iconImageOffset: [-24, -24],

            }),

            mySecondPlacemark = new ymaps.Placemark([54.7212675, 20.46990062], {
                hintContent: 'Собственный значок метки с контентом',
                balloonContent: 'А эта — новогодняя',

            }, {
                // Опции.
                // Необходимо указать данный тип макета.
                iconLayout: 'default#image',
                // Своё изображение иконки метки.
                iconImageHref: './img/icons/map-marker.svg',
                // Размеры метки.
                iconImageSize: [48, 48],
                // Смещение левого верхнего угла иконки относительно
                // её "ножки" (точки привязки).
                iconImageOffset: [-14, -4],
                // Смещение слоя с содержимым относительно слоя с картинкой.

            });

        myMap.geoObjects
            .add(myPlacemark)
            .add(myPlacemarkWithContent)
            .add(mySecondPlacemark);

        myMap.behaviors.disable('scrollZoom');
    });


}

document.addEventListener("DOMContentLoaded", ready);

        //fullpage scroll

        //$('#fullpage').fullpage();


}

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpcnN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vbWVudVxudmFyIG1lbnVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFtYnVyZ2VyLW1lbnUnKTtcbnZhciBoaWRkZW5NZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZGRlbi1tZW51Jyk7XG52YXIgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtYnRuJyk7XG5tZW51QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBoaWRkZW5NZW51LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG59KTtcbmNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaGlkZGVuTWVudS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufSk7XG5cbi8vc2xpZGVyXG5jb25zdCBsZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsZWZ0XCIpO1xuY29uc3QgcmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3JpZ2h0XCIpO1xuY29uc3Qgc2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJzX19saXN0XCIpO1xuXG5yaWdodC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgbG9vcCgncmlnaHQnKTtcbn0pO1xuXG5sZWZ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGxvb3AoJ2xlZnQnKTtcbn0pO1xuZnVuY3Rpb24gbG9vcChkaXJlY3Rpb24pIHtcbiAgICBpZiAoZGlyZWN0aW9uID09PSBcInJpZ2h0XCIpIHtcbiAgICAgICAgc2xpZGVyLmFwcGVuZENoaWxkKHNsaWRlci5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzbGlkZXIuaW5zZXJ0QmVmb3JlKHNsaWRlci5sYXN0RWxlbWVudENoaWxkLCBzbGlkZXIuZmlyc3RFbGVtZW50Q2hpbGQpO1xuICAgIH1cbn07XG5cbi8vYWNjb3JkaW9uLXZlcnRpY2FsXG5jb25zdCB0ZWFtSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGVhbV9faXRlbScpO1xudGVhbUl0ZW1zQWN0aXZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndGVhbV9faXRlbS0tYWN0aXZlJyk7XG5BcnJheS5mcm9tKHRlYW1JdGVtcykuZm9yRWFjaChmdW5jdGlvbiAoaXRlbXMsIGksIHRlYW1JdGVtcykge1xuICAgIGl0ZW1zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGVhbUl0ZW1zQWN0aXZlLmxlbmd0aCA+IDAgJiYgdGVhbUl0ZW1zQWN0aXZlWzBdICE9PSB0aGlzKVxuICAgICAgICAgICAgdGVhbUl0ZW1zQWN0aXZlWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ3RlYW1fX2l0ZW0tLWFjdGl2ZScpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ3RlYW1fX2l0ZW0tLWFjdGl2ZScpO1xuICAgIH0pO1xuXG59KTtcblxuLy9hY2NvcmRpb24taG9yaXpvbnRhbFxuY29uc3QgbWVudUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1lbnUtYWNjb3JkaW9uX19pdGVtJyk7XG5tZW51SXRlbXNBY3RpdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtZW51LWFjY29yZGlvbl9faXRlbS0tYWN0aXZlJyk7XG5BcnJheS5mcm9tKG1lbnVJdGVtcykuZm9yRWFjaChmdW5jdGlvbiAoZWxlbXMsIGksIG1lbnVJdGVtcykge1xuICAgIGVsZW1zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAobWVudUl0ZW1zQWN0aXZlLmxlbmd0aCA+IDAgJiYgbWVudUl0ZW1zQWN0aXZlWzBdICE9PSB0aGlzKVxuICAgICAgICAgICAgbWVudUl0ZW1zQWN0aXZlWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtYWNjb3JkaW9uX19pdGVtLS1hY3RpdmUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdtZW51LWFjY29yZGlvbl9faXRlbS0tYWN0aXZlJyk7XG4gICAgfSk7XG5cbn0pO1xuXG5cblxuXG4vL21vZGFsIHdpbmRvd1xuXG5jb25zdCBtb2RhbFdpbmRvd0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXZpZXdzX19idXR0b24nKTtcblxuY29uc3QgbW9kYWxXaW5kb3cgPSBjcmVhdGVNb2RhbFdpbmRvdygnPGRpdiBjbGFzcz1cIm1vZGFsLXdpbmRvd19fbmFtZVwiPjwvZGl2PjxkaXYgY2xhc3M9XCJtb2RhbC13aW5kb3dfX3Jldmlld1wiPjwvZGl2PicpO1xuXG5cblxuQXJyYXkuZnJvbShtb2RhbFdpbmRvd0J1dHRvbikuZm9yRWFjaChmdW5jdGlvbiAoZWxlbXMsIGksIG1vZGFsV2luZG93QnV0dG9uKSB7XG4gICAgZWxlbXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0O1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsV2luZG93KTtcbiAgICB9KTtcbn0pO1xuZnVuY3Rpb24gY3JlYXRlTW9kYWxXaW5kb3coY29udGVudCkge1xuICAgIGNvbnN0IG1vZGFsV2luZG93RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1vZGFsV2luZG93RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtb2RhbC13aW5kb3cnKTtcblxuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbC13aW5kb3dUZW1wbGF0ZVwiKTtcbiAgICBtb2RhbFdpbmRvd0VsZW1lbnQuaW5uZXJIVE1MID0gdGVtcGxhdGUuaW5uZXJIVE1MO1xuICAgIG1vZGFsV2luZG93RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gbW9kYWxXaW5kb3dFbGVtZW50KSB7XG4gICAgICAgICAgICBjbG9zZU1vZGFsV2luZG93LmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IG1vZGFsV2luZG93QmxvY2sgPSBtb2RhbFdpbmRvd0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC13aW5kb3dfX2Jsb2NrXCIpO1xuICAgIGNvbnN0IGNsb3NlTW9kYWxXaW5kb3cgPSBtb2RhbFdpbmRvd0Jsb2NrLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtd2luZG93X19jbG9zZS1idG5cIik7XG4gICAgY2xvc2VNb2RhbFdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1vZGFsV2luZG93RWxlbWVudCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBtb2RhbFdpbmRvd0NvbnRlbnQgPSBtb2RhbFdpbmRvd0Jsb2NrLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtd2luZG93X19jb250ZW50XCIpO1xuICAgIG1vZGFsV2luZG93Q29udGVudC5pbm5lckhUTUwgPSBjb250ZW50O1xuXG4gICAgY29uc3QgcmV2aWV3TmFtZSA9IG1vZGFsV2luZG93Q29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd2luZG93X19uYW1lJyk7XG4gICAgcmV2aWV3TmFtZS50ZXh0Q29udGVudCA9ICfQmtC+0L3RgdGC0LDQvdGC0LjQvSDQodC/0LjQu9Cx0LXRgNCzJztcbiAgICBjb25zdCByZXZpZXdUZXh0ID0gbW9kYWxXaW5kb3dDb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC13aW5kb3dfX3JldmlldycpO1xuICAgIHJldmlld1RleHQudGV4dENvbnRlbnQgPSAn0JzRi9GB0LvQuCDQstGB0LUg0L4g0L3QuNGFINC4INC+INC90LjRhSwg0L4g0L3QuNGFINC4INC+INC90LjRhS4g0J3QtdC70YzQt9GPINGD0YHRgtC+0Y/RgtGMLCDQvdC10LLQvtC30LzQvtC20L3QviDQt9Cw0LHRi9GC0YwuLi4g0J3QuNC60L7Qs9C00LAg0L3QtSDQtNGD0LzQsNC7LCDRh9GC0L4g0LHRg9C70L7Rh9C60Lgg0LzQvtCz0YPRgiDQsdGL0YLRjCDRgtCw0LrQuNC80Lgg0LzRj9Cz0LrQuNC80LgsINC60L7RgtC70LXRgtC60LAg0YLQsNC60L7QuSDRgdC+0YfQvdC+0LksINCwINGB0YvRgCDRgtCw0LrQuNC8INGA0LDRgdC/0LvQsNCy0LvQtdC90L3Ri9C8Lic7XG5cblxuICAgIC8vIHZhciByZXZpZXdOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJldmlld3NfX3RpdGxlJyk7XG4gICAgLy92YXIgcmV2aWV3VGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXZpZXdzX19kZXNjJyk7XG5cbiAgICAvL0FycmF5LmZyb20ocmV2aWV3TmFtZSkuZm9yRWFjaChmdW5jdGlvbiAoZWxlbXMsIGksIHJldmlld05hbWUpIHtcblxuICAgIC8vICAgICAgIG1vZGFsV2luZG93Q29udGVudC5pbm5lckhUTUwgPSByZXZpZXdOYW1lO1xuXG5cbiAgICAvLyB9KTtcblxuXG5cblxuICAgIHJldHVybiBtb2RhbFdpbmRvd0VsZW1lbnQ7XG5cblxuXG5cbi8vZm9ybVxuY29uc3QgbXlGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRlbGl2ZXJ5LWZvcm1fX2l0ZW0nKTtcbmNvbnN0IGRlbGl2ZXJ5QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RlbGl2ZXJ5QnV0dG9uJyk7XG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cCcpO1xuXG5cblxubXlGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShteUZvcm0pO1xuICAgIGZvcm1EYXRhLmFwcGVuZChcInRvXCIsIFwibXlFeGFtcGxFbWFpbEBtYWlsLnJ1XCIpO1xuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICByZXF1ZXN0Lm9wZW4oXCJQT1NUXCIsIFwiaHR0cHM6Ly93ZWJkZXYtYXBpLmxvZnRzY2hvb2wuY29tL3NlbmRtYWlsXCIpO1xuICAgIHJlcXVlc3Quc2VuZChmb3JtRGF0YSk7XG4gICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uY2UgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2UpO1xuICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPCA0MDApIHtcbiAgICAgICAgICAgIG15Rm9ybS5yZXNldCgpO1xuICAgICAgICAgICAgcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5kZWxpdmVyeUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59KVxuXG4vL3ZpZGVvXG5cblxuXG5cbi8vbWFwXG5cbmZ1bmN0aW9uIHJlYWR5KCkge1xuXG4gICAgJCgnI2Z1bGxwYWdlJykuZnVsbHBhZ2UoKTtcblxuICAgIHltYXBzLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG15TWFwID0gbmV3IHltYXBzLk1hcCgnbWFwJywge1xuXG4gICAgICAgICAgICBjZW50ZXI6IFs1NC43MTAyNDA5NSwgMjAuNTEwNjE2ODFdLFxuICAgICAgICAgICAgem9vbTogOVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBzZWFyY2hDb250cm9sUHJvdmlkZXI6ICd5YW5kZXgjc2VhcmNoJ1xuXG4gICAgICAgIH0pLFxuXG4gICAgICAgICAgICAvLyDQodC+0LfQtNCw0ZHQvCDQvNCw0LrQtdGCINGB0L7QtNC10YDQttC40LzQvtCz0L4uXG4gICAgICAgICAgICBNeUljb25Db250ZW50TGF5b3V0ID0geW1hcHMudGVtcGxhdGVMYXlvdXRGYWN0b3J5LmNyZWF0ZUNsYXNzKFxuICAgICAgICAgICAgICAgICc8ZGl2IHN0eWxlPVwiY29sb3I6ICNGRkZGRkY7IGZvbnQtd2VpZ2h0OiBib2xkO1wiPiRbcHJvcGVydGllcy5pY29uQ29udGVudF08L2Rpdj4nXG4gICAgICAgICAgICApLFxuXG4gICAgICAgICAgICBteVBsYWNlbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsobXlNYXAuZ2V0Q2VudGVyKCksIHtcbiAgICAgICAgICAgICAgICBoaW50Q29udGVudDogJ9Ch0L7QsdGB0YLQstC10L3QvdGL0Lkg0LfQvdCw0YfQvtC6INC80LXRgtC60LgnLFxuICAgICAgICAgICAgICAgIGJhbGxvb25Db250ZW50OiAn0K3RgtC+INC60YDQsNGB0LjQstCw0Y8g0LzQtdGC0LrQsCdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAvLyDQntC/0YbQuNC4LlxuICAgICAgICAgICAgICAgIC8vINCd0LXQvtCx0YXQvtC00LjQvNC+INGD0LrQsNC30LDRgtGMINC00LDQvdC90YvQuSDRgtC40L8g0LzQsNC60LXRgtCwLlxuICAgICAgICAgICAgICAgIGljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcbiAgICAgICAgICAgICAgICAvLyDQodCy0L7RkSDQuNC30L7QsdGA0LDQttC10L3QuNC1INC40LrQvtC90LrQuCDQvNC10YLQutC4LlxuICAgICAgICAgICAgICAgIGljb25JbWFnZUhyZWY6ICcuL2ltZy9pY29ucy9tYXAtbWFya2VyLnN2ZycsXG4gICAgICAgICAgICAgICAgLy8g0KDQsNC30LzQtdGA0Ysg0LzQtdGC0LrQuC5cbiAgICAgICAgICAgICAgICBpY29uSW1hZ2VTaXplOiBbMzAsIDQyXSxcbiAgICAgICAgICAgICAgICAvLyDQodC80LXRidC10L3QuNC1INC70LXQstC+0LPQviDQstC10YDRhdC90LXQs9C+INGD0LPQu9CwINC40LrQvtC90LrQuCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L5cbiAgICAgICAgICAgICAgICAvLyDQtdGRIFwi0L3QvtC20LrQuFwiICjRgtC+0YfQutC4INC/0YDQuNCy0Y/Qt9C60LgpLlxuICAgICAgICAgICAgICAgIGljb25JbWFnZU9mZnNldDogWy01LCAtMzhdXG4gICAgICAgICAgICB9KSxcblxuXG5cbiAgICAgICAgICAgIG15UGxhY2VtYXJrV2l0aENvbnRlbnQgPSBuZXcgeW1hcHMuUGxhY2VtYXJrKFs1NC43MDA1MTE5NCwgMjAuNDk4NjE2OTRdLCB7XG4gICAgICAgICAgICAgICAgaGludENvbnRlbnQ6ICfQodC+0LHRgdGC0LLQtdC90L3Ri9C5INC30L3QsNGH0L7QuiDQvNC10YLQutC4INGBINC60L7QvdGC0LXQvdGC0L7QvCcsXG4gICAgICAgICAgICAgICAgYmFsbG9vbkNvbnRlbnQ6ICfQkCDRjdGC0LAg4oCUINC90L7QstC+0LPQvtC00L3Rj9GPJyxcblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIC8vINCe0L/RhtC40LguXG4gICAgICAgICAgICAgICAgLy8g0J3QtdC+0LHRhdC+0LTQuNC80L4g0YPQutCw0LfQsNGC0Ywg0LTQsNC90L3Ri9C5INGC0LjQvyDQvNCw0LrQtdGC0LAuXG4gICAgICAgICAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuICAgICAgICAgICAgICAgIC8vINCh0LLQvtGRINC40LfQvtCx0YDQsNC20LXQvdC40LUg0LjQutC+0L3QutC4INC80LXRgtC60LguXG4gICAgICAgICAgICAgICAgaWNvbkltYWdlSHJlZjogJy4vaW1nL2ljb25zL21hcC1tYXJrZXIuc3ZnJyxcbiAgICAgICAgICAgICAgICAvLyDQoNCw0LfQvNC10YDRiyDQvNC10YLQutC4LlxuICAgICAgICAgICAgICAgIGljb25JbWFnZVNpemU6IFs0OCwgNDhdLFxuICAgICAgICAgICAgICAgIC8vINCh0LzQtdGJ0LXQvdC40LUg0LvQtdCy0L7Qs9C+INCy0LXRgNGF0L3QtdCz0L4g0YPQs9C70LAg0LjQutC+0L3QutC4INC+0YLQvdC+0YHQuNGC0LXQu9GM0L3QvlxuICAgICAgICAgICAgICAgIC8vINC10ZEgXCLQvdC+0LbQutC4XCIgKNGC0L7Rh9C60Lgg0L/RgNC40LLRj9C30LrQuCkuXG4gICAgICAgICAgICAgICAgaWNvbkltYWdlT2Zmc2V0OiBbLTI0LCAtMjRdLFxuXG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgbXlTZWNvbmRQbGFjZW1hcmsgPSBuZXcgeW1hcHMuUGxhY2VtYXJrKFs1NC43MjEyNjc1LCAyMC40Njk5MDA2Ml0sIHtcbiAgICAgICAgICAgICAgICBoaW50Q29udGVudDogJ9Ch0L7QsdGB0YLQstC10L3QvdGL0Lkg0LfQvdCw0YfQvtC6INC80LXRgtC60Lgg0YEg0LrQvtC90YLQtdC90YLQvtC8JyxcbiAgICAgICAgICAgICAgICBiYWxsb29uQ29udGVudDogJ9CQINGN0YLQsCDigJQg0L3QvtCy0L7Qs9C+0LTQvdGP0Y8nLFxuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgLy8g0J7Qv9GG0LjQuC5cbiAgICAgICAgICAgICAgICAvLyDQndC10L7QsdGF0L7QtNC40LzQviDRg9C60LDQt9Cw0YLRjCDQtNCw0L3QvdGL0Lkg0YLQuNC/INC80LDQutC10YLQsC5cbiAgICAgICAgICAgICAgICBpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXG4gICAgICAgICAgICAgICAgLy8g0KHQstC+0ZEg0LjQt9C+0LHRgNCw0LbQtdC90LjQtSDQuNC60L7QvdC60Lgg0LzQtdGC0LrQuC5cbiAgICAgICAgICAgICAgICBpY29uSW1hZ2VIcmVmOiAnLi9pbWcvaWNvbnMvbWFwLW1hcmtlci5zdmcnLFxuICAgICAgICAgICAgICAgIC8vINCg0LDQt9C80LXRgNGLINC80LXRgtC60LguXG4gICAgICAgICAgICAgICAgaWNvbkltYWdlU2l6ZTogWzQ4LCA0OF0sXG4gICAgICAgICAgICAgICAgLy8g0KHQvNC10YnQtdC90LjQtSDQu9C10LLQvtCz0L4g0LLQtdGA0YXQvdC10LPQviDRg9Cz0LvQsCDQuNC60L7QvdC60Lgg0L7RgtC90L7RgdC40YLQtdC70YzQvdC+XG4gICAgICAgICAgICAgICAgLy8g0LXRkSBcItC90L7QttC60LhcIiAo0YLQvtGH0LrQuCDQv9GA0LjQstGP0LfQutC4KS5cbiAgICAgICAgICAgICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstMTQsIC00XSxcbiAgICAgICAgICAgICAgICAvLyDQodC80LXRidC10L3QuNC1INGB0LvQvtGPINGBINGB0L7QtNC10YDQttC40LzRi9C8INC+0YLQvdC+0YHQuNGC0LXQu9GM0L3QviDRgdC70L7RjyDRgSDQutCw0YDRgtC40L3QutC+0LkuXG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIG15TWFwLmdlb09iamVjdHNcbiAgICAgICAgICAgIC5hZGQobXlQbGFjZW1hcmspXG4gICAgICAgICAgICAuYWRkKG15UGxhY2VtYXJrV2l0aENvbnRlbnQpXG4gICAgICAgICAgICAuYWRkKG15U2Vjb25kUGxhY2VtYXJrKTtcblxuICAgICAgICBteU1hcC5iZWhhdmlvcnMuZGlzYWJsZSgnc2Nyb2xsWm9vbScpO1xuICAgIH0pO1xuXG5cbn1cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgcmVhZHkpO1xuXG4gICAgICAgIC8vZnVsbHBhZ2Ugc2Nyb2xsXG5cbiAgICAgICAgLy8kKCcjZnVsbHBhZ2UnKS5mdWxscGFnZSgpO1xuXG5cbn1cbiJdfQ==
